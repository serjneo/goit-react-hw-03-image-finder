{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["ImageGalleryItem","webformatURL","largeImageURL","tags","setModalImgInfo","className","src","alt","onClick","ImageGallery","images","map","id","Button","onLoadMore","type","modalRoot","document","getElementById","Modal","handleKeyPressESC","e","code","props","onClose","handleOverlayClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","children","Component","Searchbar","state","text","handleTextChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","onChange","autoComplete","autoFocus","placeholder","Load","color","height","width","timeout","App","page","showModal","status","fetchImages","request","fetch","then","res","json","array","hits","length","prevState","pageScroll","catch","toggleModal","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","transition","Zoom","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ffb588ba.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport './ImageGalleryItem.scss';\r\n\r\nfunction ImageGalleryItem({\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n  setModalImgInfo,\r\n}) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={() => setModalImgInfo({ largeImageURL, tags })}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  setModalImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport './ImageGallery.scss';\r\n\r\n function ImageGallery({ images, setModalImgInfo }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ webformatURL, largeImageURL, tags, id }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          setModalImgInfo={setModalImgInfo}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  setModalImgInfo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n","import PropTypes from 'prop-types';\r\nimport './Button.scss';\r\n\r\n function Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\nexport default Button;","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './Modal.scss'\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPressESC);\r\n  }\r\n    componentWillUnmount() {\r\n      window.removeEventListener('keydown', this.handleKeyPressESC);\r\n  }\r\n\r\n  handleKeyPressESC = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n    };\r\n    \r\n    handleOverlayClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose(); \r\n        }\r\n    }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node,\r\n};\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './Searchbar.scss';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n    };\r\n    \r\n  handleTextChange = e => {\r\n    this.setState({\r\n      text: e.currentTarget.value.toLowerCase(),\r\n    });\r\n    };\r\n    \r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n        toast.error('Enter text');\r\n        return;\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({\r\n      text: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className= \"SearchForm-button\">\r\n            <span className= \"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleTextChange}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import Loader from 'react-loader-spinner';\r\nimport './Loader.scss'\r\n\r\n\r\n\r\nconst Load =  () =>{\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader\r\n        type=\"Rings\"\r\n              color=\"#00BFFF\"\r\n              height={150}\r\n              width={150}\r\n              timeout={2000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Load;","import { Component } from 'react';\nimport { toast, ToastContainer, Zoom } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport Load from './components/Loader';\nimport './App.scss';\n\nexport default class App extends Component {\n  state = {\n    text: '',\n    page: 1,\n    images: [],\n    showModal: false,\n    error: null,\n    status: 'idle',\n    largeImageURL: null,\n    tags: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.text;\n    const nextQuery = this.state.text;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ images: [], page: 1 });\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const API_KEY = '22969482-37b7f2c7deb329174334b9da4';\n    const BASE_URL = 'https://pixabay.com/api';\n    const { text, page } = this.state;\n    const perPage = 12;\n    const request = `/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=${perPage}&key=${API_KEY}`;\n\n    this.setState({ status: 'pending' });\n\n    fetch(BASE_URL + request)\n      .then(res => res.json())\n      .then(array => {\n        const images = array.hits;\n        if (images.length < 1) {\n          toast.error('Nothing found, specify your search');\n        }\n\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          status: 'resolved',\n          page: prevState.page + 1,\n        }));\n        if (page > 1) {\n          this.pageScroll();\n        }\n      })\n      .catch(error => this.setState({ error, status: 'rejected' }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setModalImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n    this.toggleModal();\n  };\n\n  pageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onSubmit = text => {\n    this.setState({ page: 1, text });\n  };\n\n  onLoadMore = () => {\n    this.fetchImages();\n  };\n\n  render() {\n    const { images, showModal, largeImageURL, tags, status } = this.state;\n    return (\n      <>\n        <div className=\"App\">\n          <Searchbar onSubmit={this.onSubmit} />\n          {status === 'pending' && <Load />}\n          <ImageGallery\n            images={images}\n            setModalImgInfo={this.setModalImgInfo}\n          />\n          {images.length > 0 && <Button onLoadMore={this.onLoadMore} />}\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={largeImageURL} alt={tags} />\n            </Modal>\n          )}\n        </div>\n        <ToastContainer transition={Zoom} />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>{<App />}</React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}